%h1= 'show'

%ul
  %li= @sp.name

%h2= 'Users'

%ul
  - @sp.users.all.each do |user|
    %li
      %dl
        %dt= 'name'
        %dd= user.name
        %dt= 'nickname'
        %dd= user.nickname
        %dt= 'email'
        %dd= user.email

= form_tag(service_provider_path(@sp), method: :put) do |f|
  = hidden_field_tag(:service_provider_id, @sp.id)
  = label_tag(:email, 'Add user by e-mail address:')
  = text_field_tag(:email)
  = submit_tag('Add user')

%h2= 'Your consumers'

%dl
  - @sp.consumers.each do |consumer|
    %dt= consumer.name
    %dd
      %dl
        %dt= 'client_id'
        %dd= consumer.client_id_key
        %dt= 'client_secret'
        %dd= consumer.client_secret

= form_tag(service_provider_consumers_path(@sp)) do |f|
  = hidden_field_tag(:service_provider_id, @sp.id)
  = label_tag(:name, 'Consumer name:')
  = text_field_tag(:name)
  = submit_tag('Create consumer')
